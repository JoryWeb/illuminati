<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <menuitem id="account_reports_partners_reports_menu" name="Partner Reports" parent="account.menu_finance_reports" sequence="2"/>
        <menuitem id="account_reports_audit_reports_menu" name="Audit Reports" parent="account.menu_finance_reports" sequence="3"/>

        <record model="ir.actions.server" id="action_journal_items">
            <field name="name">Journal Items by tax</field>
            <field name="model_id" ref="account_reports.model_account_financial_html_report_line"/>
            <field name="state">code</field>
            <field name="code">
                action = env['account.financial.html.report.line'].browse(env.context['active_id']).report_move_lines_action()
            </field>
        </record>

        <!-- PROFIT AND LOSS -->

        <record id="account_financial_report_profitandloss0" model="account.financial.html.report">
            <field name="name">Profit and Loss</field>
            <field name="debit_credit" eval="False"/>
            <field name="analytic" eval="True"/>
            <field name="unfold_all_filter" eval="True"/>
            <field name="show_journal_filter" eval="True"/>
            <field name='parent_id' ref='account.account_reports_legal_statements_menu'/>
        </record>
        <record id="account_financial_report_detailed_net_profit0" model="account.financial.html.report.line">
            <field name="name">DETAILED NET PROFIT</field>
            <field name="code">DETAILED_NEP</field>
            <field name="formulas">debit = sum.debit; credit = sum.credit</field>
            <field name="domain" eval="[('account_id.user_type_id.include_initial_balance', '=', False)]" />
            <field name="special_date_changer">from_beginning</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="0" />
        </record>
        <record id="account_financial_report_net_profit0" model="account.financial.html.report.line">
            <field name="name">NET PROFIT</field>
            <field name="code">NEP</field>
            <field name="financial_report_id" ref="account_financial_report_profitandloss0"/>
            <field name="formulas">balance = INC.balance - LEX.balance</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="0" />
        </record>

        <record id="account_financial_report_totalincome0" model="account.financial.html.report.line">
            <field name="name">INCOME</field>
            <field name="code">INC</field>
            <field name="formulas">balance = OPINC.balance + OIN.balance - COS.balance</field>
            <field name="parent_id" ref='account_financial_report_net_profit0'/>
            <field name="sequence" eval="1"/>
            <field name="level" eval="1" />
        </record>

        <record id="account_financial_report_gross_profit0" model="account.financial.html.report.line">
            <field name="name">Gross Profit</field>
            <field name="code">GRP</field>
            <field name="formulas">balance = OPINC.balance - COS.balance</field>
            <field name="parent_id" ref='account_financial_report_totalincome0'/>
            <field name="sequence" eval="1"/>
            <field name="level" eval="2" />
        </record>

        <record id="account_financial_report_income0" model="account.financial.html.report.line">
            <field name="name">Operating Income</field>
            <field name="code">OPINC</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="parent_id" ref='account_financial_report_gross_profit0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_revenue'))]" />
            <field name="groupby">account_id</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="3" />
        </record>

        <record id="account_financial_report_cost_sales0" model="account.financial.html.report.line">
            <field name="name">Cost of Revenue</field>
            <field name="code">COS</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="parent_id" ref='account_financial_report_gross_profit0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_direct_costs'))]" />
            <field name="groupby">account_id</field>
            <field name="sequence" eval="3"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="3" />
        </record>

        <record id="account_financial_report_other_income0" model="account.financial.html.report.line">
            <field name="name">Other Income</field>
            <field name="code">OIN</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="parent_id" ref='account_financial_report_totalincome0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_other_income'))]" />
            <field name="groupby">account_id</field>
            <field name="sequence" eval="2"/>
            <field name="level" eval="2" />
        </record>

        <record id="account_financial_report_less_expenses0" model="account.financial.html.report.line">
            <field name="name">Expenses</field>
            <field name="code">LEX</field>
            <field name="formulas">balance = EXP.balance + DEP.balance</field>
            <field name="parent_id" ref='account_financial_report_net_profit0'/>
            <field name="sequence" eval="2"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_expense0" model="account.financial.html.report.line">
            <field name="name">Expenses</field>
            <field name="code">EXP</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="parent_id" ref='account_financial_report_less_expenses0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_expenses'))]" />
            <field name="groupby">account_id</field>
            <field name="sequence" eval="1"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_depreciation0" model="account.financial.html.report.line">
            <field name="name">Depreciation</field>
            <field name="code">DEP</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="parent_id" ref='account_financial_report_less_expenses0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_depreciation'))]" />
            <field name="groupby">account_id</field>
            <field name="sequence" eval="2"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>


        <!-- BALANCE SHEET -->

        <record id="account_financial_report_balancesheet0" model="account.financial.html.report">
            <field name="name">Balance Sheet</field>
            <field name="debit_credit" eval="False"/>
            <field name="date_range" eval="False"/>
            <field name="analytic" eval="True"/>
            <field name="unfold_all_filter" eval="True"/>
            <field name='parent_id' ref='account.account_reports_legal_statements_menu'/>
        </record>
        <record id="account_financial_report_total_assets0" model="account.financial.html.report.line">
            <field name="name">ASSETS</field>
            <field name="code">TA</field>
            <field name="financial_report_id" ref="account_financial_report_balancesheet0"/>
            <field name="formulas">balance = CA.balance + FA.balance + PNCA.balance</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="0" />
        </record>
        <record id="account_financial_report_current_assets_view0" model="account.financial.html.report.line">
            <field name="name">Current Assets</field>
            <field name="code">CA</field>
            <field name="parent_id" ref='account_financial_report_total_assets0'/>
            <field name="formulas">balance = BA.balance + REC.balance + CAS.balance + PRE.balance</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_bank_view0" model="account.financial.html.report.line">
            <field name="name">Bank and Cash Accounts</field>
            <field name="code">BA</field>
            <field name="parent_id" ref='account_financial_report_current_assets_view0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_liquidity'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="1"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_receivable0" model="account.financial.html.report.line">
            <field name="name">Receivables</field>
            <field name="code">REC</field>
            <field name="parent_id" ref='account_financial_report_current_assets_view0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'receivable')]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="2"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_current_assets0" model="account.financial.html.report.line">
            <field name="name">Current Assets</field>
            <field name="code">CAS</field>
            <field name="parent_id" ref='account_financial_report_current_assets_view0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_current_assets'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="3"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_prepayements0" model="account.financial.html.report.line">
            <field name="name">Prepayments</field>
            <field name="code">PRE</field>
            <field name="parent_id" ref='account_financial_report_current_assets_view0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_prepayments'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="4"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_fixed_assets_view0" model="account.financial.html.report.line">
            <field name="name">Plus Fixed Assets</field>
            <field name="code">FA</field>
            <field name="parent_id" ref='account_financial_report_total_assets0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_fixed_assets'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="3"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_non_current_assets_view0" model="account.financial.html.report.line">
            <field name="name">Plus Non-current Assets</field>
            <field name="code">PNCA</field>
            <field name="parent_id" ref='account_financial_report_total_assets0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_non_current_assets'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = sum.balance</field>
            <field name="sequence" eval="4"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_liabilities_view0" model="account.financial.html.report.line">
            <field name="name">LIABILITIES</field>
            <field name="code">L</field>
            <field name="financial_report_id" ref="account_financial_report_balancesheet0"/>
            <field name="groupby">account_id</field>
            <field name="formulas">balance = CL.balance + NL.balance</field>
            <field name="sequence" eval="2"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="0" />
        </record>
        <record id="account_financial_report_current_liabilities0" model="account.financial.html.report.line">
            <field name="name">Current Liabilities</field>
            <field name="code">CL</field>
            <field name="parent_id" ref='account_financial_report_liabilities_view0'/>
            <field name="formulas">balance = CL1.balance + CL2.balance</field>
            <field name="sequence" eval="1"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_current_liabilities1" model="account.financial.html.report.line">
            <field name="name">Current Liabilities</field>
            <field name="code">CL1</field>
            <field name="parent_id" ref='account_financial_report_current_liabilities0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_current_liabilities'), ref('account.data_account_type_credit_card')])]"/>
            <field name="groupby">account_id</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="1"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_current_liabilities_payable" model="account.financial.html.report.line">
            <field name="name">Payables</field>
            <field name="code">CL2</field>
            <field name="parent_id" ref='account_financial_report_current_liabilities0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'payable')]"/>
            <field name="groupby">account_id</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="2"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_non_current_liabilities0" model="account.financial.html.report.line">
            <field name="name">Plus Non-current Liabilities</field>
            <field name="code">NL</field>
            <field name="parent_id" ref='account_financial_report_liabilities_view0'/>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_non_current_liabilities'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="2"/>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_net_assets0" model="account.financial.html.report.line">
            <field name="name">NET ASSETS</field>
            <field name="code">NA</field>
            <field name="formulas">balance = TA.balance - L.balance</field>
            <field name="sequence" eval="3"/>
            <field name="level" eval="0" />
        </record>
        <record id="account_financial_report_equity0" model="account.financial.html.report.line">
            <field name="name">EQUITY</field>
            <field name="code">EQ</field>
            <field name="formulas">balance = UNAFFECTED_EARNINGS.balance + RETAINED_EARNINGS.balance</field>
            <field name="sequence" eval="4"/>
            <field name="financial_report_id" ref="account_financial_report_balancesheet0"/>
            <field name="level" eval="0" />
        </record>
        <record id="account_financial_unaffected_earnings0" model="account.financial.html.report.line">
            <field name="name">Unallocated Earnings</field>
            <field name="code">UNAFFECTED_EARNINGS</field>
            <field name="formulas">balance = CURR_YEAR_EARNINGS.balance + PREV_YEAR_EARNINGS.balance</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_equity0'/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_current_year_earnings0" model="account.financial.html.report.line">
            <field name="name">Current Year Unallocated Earnings</field>
            <field name="code">CURR_YEAR_EARNINGS</field>
            <field name="formulas">balance = CURR_YEAR_EARNINGS_PNL.balance + CURR_YEAR_EARNINGS_ALLOC.balance</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_unaffected_earnings0'/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_current_year_earnings_line_1" model="account.financial.html.report.line">
            <field name="name">Current Year Earnings</field>
            <field name="code">CURR_YEAR_EARNINGS_PNL</field>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [
                ref('account.data_account_type_revenue'),
                ref('account.data_account_type_other_income'),
                ref('account.data_account_type_direct_costs'),
                ref('account.data_account_type_expenses'),
                ref('account.data_account_type_depreciation')
            ])]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_current_year_earnings0'/>
            <field name="special_date_changer">from_fiscalyear</field>
            <field name="level" eval="3" />
        </record>
        <record id="account_financial_current_year_earnings_line_2" model="account.financial.html.report.line">
            <field name="name">Current Year Allocated Earnings</field>
            <field name="code">CURR_YEAR_EARNINGS_ALLOC</field>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_unaffected_earnings'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_current_year_earnings0'/>
            <field name="special_date_changer">from_fiscalyear</field>
            <field name="level" eval="3" />
        </record>
        <record id="account_financial_previous_year_earnings0" model="account.financial.html.report.line">
            <field name="name">Previous Years Unallocated Earnings</field>
            <field name="code">PREV_YEAR_EARNINGS</field>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_unaffected_earnings'))]" />
            <field name="formulas">balance = NEP.balance - sum.balance - CURR_YEAR_EARNINGS.balance</field>
            <field name="sequence" eval="2"/>
            <field name="special_date_changer">from_beginning</field>
            <field name="parent_id" ref='account_financial_unaffected_earnings0'/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_retained_earnings0" model="account.financial.html.report.line">
            <field name="name">RETAINED EARNINGS</field>
            <field name="code">RETAINED_EARNINGS</field>
            <field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_equity'))]" />
            <field name="groupby">account_id</field>
            <field name="formulas">balance = -sum.balance</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_equity0'/>
            <field name="level" eval="2" />
        </record>


        <!-- CASH SUMMARY -->

        <record id="account_financial_report_cashsummary0" model="account.financial.html.report">
            <field name="name">Cash Flow Statement</field>
            <field name="cash_basis" eval="True"/>
            <field name="unfold_all_filter" eval="True"/>
            <field name='parent_id' ref='account.account_reports_legal_statements_menu'/>
        </record>
        <record id="account_financial_report_cashsummary_net_increase0" model="account.financial.html.report.line">
            <field name="name">Net increase in cash and cash equivalents</field>
            <field name="sequence" eval="1"/>
            <field name="formulas">balance = OP.balance + FI.balance + IN.balance + UNC.balance + REGUL.balance</field>
            <field name="level" eval="0" />
            <field name="financial_report_id" ref="account_financial_report_cashsummary0"/>
            <field name="special_date_changer">strict_range</field>
        </record>

        <record id="account_financial_report_cashsummary_operating0" model="account.financial.html.report.line">
            <field name="name">Cash flows from operating activities</field>
            <field name="code">OP</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_net_increase0'/>
            <field name="formulas">balance = PRECUS.balance + CACUS.balance + PRESUP.balance + LCP.balance</field>
            <field name="level" eval="1" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_prepayments_received0" model="account.financial.html.report.line">
            <field name="name">Advance Payments received from customers</field>
            <field name="code">PRECUS</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_operating0'/>
            <field name="domain" eval="[('journal_id.type', 'in', ['cash', 'bank']), ('account_id.internal_type', '=', 'receivable'), ('reconciled', '!=', True)]" />
            <field name="formulas">balance = -sum.amount_residual</field>
            <field name="level" eval="2" />
            <field name="groupby">partner_id</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_cash_received0" model="account.financial.html.report.line">
            <field name="name">Cash received from customers</field>
            <field name="code">CACUS</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_operating0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_revenue'), ref('account.data_account_type_other_income')]), ('account_id.tag_ids', '=', ref('account.account_tag_operating'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="level" eval="2" />
            <field name="groupby">account_id</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_cash_paid0" model="account.financial.html.report.line">
            <field name="name">Advance payments made to suppliers</field>
            <field name="code">PRESUP</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_operating0'/>
            <field name="domain" eval="[('journal_id.type', 'in', ['cash', 'bank']), ('account_id.internal_type', '=', 'payable'), ('reconciled', '!=', True)]" />
            <field name="formulas">balance = -sum.amount_residual</field>
            <field name="level" eval="2" />
            <field name="groupby">partner_id</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_cash_spent0" model="account.financial.html.report.line">
            <field name="name">Cash paid for</field>
            <field name="code">LCP</field>
            <field name="sequence" eval="4"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_operating0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_depreciation'), ref('account.data_account_type_expenses')]), ('account_id.tag_ids', '=', ref('account.account_tag_operating'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="level" eval="2" />
            <field name="groupby">account_id</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_investing0" model="account.financial.html.report.line">
            <field name="name">Cash flows from investing &amp; extraordinary activities</field>
            <field name="code">IN</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_net_increase0'/>
            <field name="level" eval="1" />
            <field name="formulas">balance = INV_IN.balance + INV_OUT.balance</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_investing_in0" model="account.financial.html.report.line">
            <field name="name">Cash in</field>
            <field name="code">INV_IN</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_investing0'/>
            <field name="domain" eval="['|', '&amp;', ('account_id.user_type_id', '=', ref('account.data_account_type_fixed_assets')), ('journal_id.type', '=', 'sale'), '&amp;', ('account_id.user_type_id', 'in', [ref('account.data_account_type_revenue')]), ('account_id.tag_ids', '=', ref('account.account_tag_investing'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_investing_out0" model="account.financial.html.report.line">
            <field name="name">Cash out</field>
            <field name="code">INV_OUT</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_investing0'/>
            <field name="domain" eval="['|', '&amp;', ('account_id.user_type_id', '=', ref('account.data_account_type_fixed_assets')), ('journal_id.type', '=', 'purchase'), '&amp;', ('account_id.user_type_id', 'in', [ref('account.data_account_type_depreciation'), ref('account.data_account_type_expenses')]), ('account_id.tag_ids', '=', ref('account.account_tag_investing'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_financing0" model="account.financial.html.report.line">
            <field name="name">Cash flows from financing activities</field>
            <field name="code">FI</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_net_increase0'/>
            <field name="level" eval="1" />
            <field name="formulas">balance = FI_IN.balance + FI_OUT.balance</field>
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_financing_in0" model="account.financial.html.report.line">
            <field name="name">Cash in</field>
            <field name="code">FI_IN</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_financing0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_revenue')]), ('account_id.tag_ids', '=', ref('account.account_tag_financing'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_financing_out0" model="account.financial.html.report.line">
            <field name="name">Cash out</field>
            <field name="code">FI_OUT</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_financing0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_depreciation'), ref('account.data_account_type_expenses')]), ('account_id.tag_ids', '=', ref('account.account_tag_financing'))]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_unclassified0" model="account.financial.html.report.line">
            <field name="name">Cash flows from unclassified activities</field>
            <field name="code">UNC</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_net_increase0'/>
            <field name="level" eval="1" />
            <field name="formulas">balance = UNC_IN.balance + UNC_OUT.balance</field>
            <field name="hide_if_zero" eval="True" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_unclassified_in0" model="account.financial.html.report.line">
            <field name="name">Cash in</field>
            <field name="code">UNC_IN</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_unclassified0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_revenue')]), ('account_id.tag_ids', 'not in', [ref('account.account_tag_financing'), ref('account.account_tag_investing'), ref('account.account_tag_operating')])]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_cashsummary_unclassified_out0" model="account.financial.html.report.line">
            <field name="name">Cash out</field>
            <field name="code">UNC_OUT</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_unclassified0'/>
            <field name="domain" eval="[('account_id.user_type_id', 'in', [ref('account.data_account_type_depreciation'), ref('account.data_account_type_expenses')]), ('account_id.tag_ids', 'not in', [ref('account.account_tag_financing'), ref('account.account_tag_investing'), ref('account.account_tag_operating')])]" />
            <field name="formulas">balance = -sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <!-- When you register 'Advance payments', you record fluctuations on the bank/cash accounts and let open amounts
        in payable/receivable accounts. Those are displayed in PRECUS and PRESUP but, as they are reconciled with the
        invoices later on, the counterpart income/expense accounts will only appear in the cashflow statement at the invoice's
        date. To avoid counting them again in the 'Net Cash increase' while they are already in the starting balance, we must
        manually subtract them in the REGUL line.

        Unfortunately, there is no way of filtering them currently so we have to compute them as the difference between the
        'Net cash increase' and the difference between the starting and ending cash balance).
        -->
        <record id="account_financial_report_cashsummary_regulator0" model="account.financial.html.report.line">
            <field name="name">Minus previously recorded advance payments (already in the starting balance)</field>
            <field name="code">REGUL</field>
            <field name="sequence" eval="4"/>
            <field name="parent_id" ref='account_financial_report_cashsummary_net_increase0'/>
            <field name="formulas">balance = (CASHEND.balance - CASHSTART.balance) - (OP.balance + FI.balance + IN.balance + UNC.balance)</field>
            <field name="level" eval="1" />
            <field name="hide_if_zero" eval="True" />
        </record>
        <record id="account_financial_report_cashsummary_opening_balance0" model="account.financial.html.report.line">
            <field name="name">Cash and cash equivalents, beginning of period</field>
            <field name="code">CASHSTART</field>
            <field name="sequence" eval="2"/>
            <field name="domain" eval="[('account_id.internal_type', '=', 'liquidity')]" />
            <field name="formulas">balance = sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="show_domain">foldable</field>
            <field name="special_date_changer">to_beginning_of_period</field>
            <field name="financial_report_id" ref="account_financial_report_cashsummary0"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_cashsummary_closing_balance0" model="account.financial.html.report.line">
            <field name="name">Cash and cash equivalents, closing balance</field>
            <field name="code">CASHEND</field>
            <field name="sequence" eval="3"/>
            <field name="domain" eval="[('account_id.internal_type', '=', 'liquidity')]" />
            <field name="formulas">balance = sum.balance</field>
            <field name="groupby">account_id</field>
            <field name="show_domain">foldable</field>
            <field name="financial_report_id" ref="account_financial_report_cashsummary0"/>
            <field name="level" eval="2" />
        </record>

        <!--
            EXECUTIVE SUMMARY
        -->

        <record id="account_financial_report_executivesummary0" model="account.financial.html.report">
            <field name="name">Executive Summary</field>
            <field name='parent_id' ref='account.account_reports_legal_statements_menu'/>
        </record>
        <record id="account_financial_report_executivesummary_cash0" model="account.financial.html.report.line">
            <field name="name">CASH</field>
            <field name="sequence" eval="1"/>
            <field name="financial_report_id" ref="account_financial_report_executivesummary0"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_executivesummary_cash_received0" model="account.financial.html.report.line">
            <field name="name">Cash received</field>
            <field name="code">CR</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_cash0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'liquidity')]" />
            <field name="formulas">balance = sum.debit</field>
            <field name="show_domain">never</field>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_executivesummary_cash_spent0" model="account.financial.html.report.line">
            <field name="name">Cash spent</field>
            <field name="code">CS</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_cash0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'liquidity')]" />
            <field name="formulas">balance = -sum.credit</field>
            <field name="show_domain">never</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
            <field name="special_date_changer">strict_range</field>
        </record>
        <record id="account_financial_report_executivesummary_cash_surplus0" model="account.financial.html.report.line">
            <field name="name">Cash surplus</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_cash0'/>
            <field name="formulas">balance = CR.balance + CS.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_closing_bank_balance0" model="account.financial.html.report.line">
            <field name="name">Closing bank balance</field>
            <field name="sequence" eval="4"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_cash0'/>
            <field name="domain" eval="[('account_id.internal_type', '=', 'liquidity')]" />
            <field name="formulas">balance = sum.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_profitability0" model="account.financial.html.report.line">
            <field name="name">PROFITABILITY</field>
            <field name="sequence" eval="2"/>
            <field name="financial_report_id" ref="account_financial_report_executivesummary0"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_executivesummary_income0" model="account.financial.html.report.line">
            <field name="name">Income</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_profitability0'/>
            <field name="formulas">balance = INC.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_direct_costs0" model="account.financial.html.report.line">
            <field name="name">Cost of Revenue</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_profitability0'/>
            <field name="formulas">balance = COS.balance</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_gross_profit0" model="account.financial.html.report.line">
            <field name="name">Gross profit</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_profitability0'/>
            <field name="formulas">balance = GRP.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_expenses0" model="account.financial.html.report.line">
            <field name="name">Expenses</field>
            <field name="sequence" eval="4"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_profitability0'/>
            <field name="formulas">balance = LEX.balance</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_profit0" model="account.financial.html.report.line">
            <field name="name">Net Profit</field>
            <field name="sequence" eval="5"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_profitability0'/>
            <field name="formulas">balance = NEP.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_balancesheet0" model="account.financial.html.report.line">
            <field name="name">BALANCE SHEET</field>
            <field name="sequence" eval="3"/>
            <field name="financial_report_id" ref="account_financial_report_executivesummary0"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_executivesummary_debtors0" model="account.financial.html.report.line">
            <field name="name">Receivables</field>
            <field name="code">DEB</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_balancesheet0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'receivable')]" />
            <field name="formulas">balance = sum.balance</field>
            <field name="show_domain">never</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_creditors0" model="account.financial.html.report.line">
            <field name="name">Payables</field>
            <field name="code">CRE</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_balancesheet0'/>
            <field name="domain" eval="[('account_id.user_type_id.type', '=', 'payable')]" />
            <field name="formulas">balance = sum.balance</field>
            <field name="show_domain">never</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_net_assets0" model="account.financial.html.report.line">
            <field name="name">Net assets</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_balancesheet0'/>
            <field name="formulas">balance = NA.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_performance0" model="account.financial.html.report.line">
            <field name="name">PERFORMANCE</field>
            <field name="sequence" eval="4"/>
            <field name="financial_report_id" ref="account_financial_report_executivesummary0"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_executivesummary_gpmargin0" model="account.financial.html.report.line">
            <field name="name">Gross profit margin (gross profit / operating income)</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_performance0'/>
            <field name="formulas">balance = GRP.balance / OPINC.balance</field>
            <field name="figure_type">percents</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_npmargin0" model="account.financial.html.report.line">
            <field name="name">Net profit margin (net profit / income)</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_performance0'/>
            <field name="formulas">balance = NEP.balance / INC.balance</field>
            <field name="figure_type">percents</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_return_investment0" model="account.financial.html.report.line">
            <field name="name">Return on investments (net profit / assets)</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_performance0'/>
            <field name="formulas">balance = NEP.balance / TA.balance</field>
            <field name="figure_type">percents</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_position0" model="account.financial.html.report.line">
            <field name="name">POSITION</field>
            <field name="sequence" eval="5"/>
            <field name="financial_report_id" ref="account_financial_report_executivesummary0"/>
            <field name="level" eval="1" />
        </record>
        <record id="account_financial_report_executivesummary_avdebt0" model="account.financial.html.report.line">
            <field name="name">Average debtors days</field>
            <field name="sequence" eval="1"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_position0'/>
            <field name="formulas">balance = DEB.balance / OPINC.balance * NDays</field>
            <field name="figure_type">no_unit</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_avgcre0" model="account.financial.html.report.line">
            <field name="name">Average creditors days</field>
            <field name="sequence" eval="2"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_position0'/>
            <field name="formulas">balance = -CRE.balance / OPINC.balance * NDays</field>
            <field name="figure_type">no_unit</field>
            <field name="green_on_positive" eval="False"/>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_st_cash_forecast0" model="account.financial.html.report.line">
            <field name="name">Short term cash forecast</field>
            <field name="sequence" eval="3"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_position0'/>
            <field name="formulas">balance = DEB.balance + CRE.balance</field>
            <field name="level" eval="2" />
        </record>
        <record id="account_financial_report_executivesummary_ca_to_l0" model="account.financial.html.report.line">
            <field name="name">Current assets to liabilities</field>
            <field name="sequence" eval="4"/>
            <field name="parent_id" ref='account_financial_report_executivesummary_position0'/>
            <field name="formulas">balance = CA.balance / L.balance</field>
            <field name="figure_type">no_unit</field>
            <field name="level" eval="2" />
        </record>

        <record id="action_account_report_pnl" model="ir.actions.client">
            <field name="name">Profit And Loss</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.financial.html.report', 'id': ref('account_financial_report_profitandloss0')}" />
        </record>
        <record id="action_account_report_bs" model="ir.actions.client">
            <field name="name">Balance Sheet</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.financial.html.report', 'id': ref('account_financial_report_balancesheet0')}" />
        </record>
        <record id="action_account_report_cs" model="ir.actions.client">
            <field name="name">Cash Flow Statement</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.financial.html.report', 'id': ref('account_financial_report_cashsummary0')}" />
        </record>
        <record id="action_account_report_gt" model="ir.actions.client">
            <field name="name">Generic Tax Report</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.generic.tax.report'}" />
        </record>
        <record id="action_account_report_cj" model="ir.actions.client">
            <field name="name">Consolidated Journals</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.consolidated.journal'}" />
        </record>
        <record id="action_account_report_bank_reconciliation" model="ir.actions.client">
            <field name="name">Bank Reconciliation</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.bank.reconciliation.report'}" />
        </record>
        <record id="action_account_report_bank_reconciliation_with_journal" model="ir.actions.client">
            <field name="name">Bank Reconciliation</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.bank.reconciliation.report'}" />
        </record>
        <record id="action_account_report_general_ledger" model="ir.actions.client">
            <field name="name">General Ledger</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.general.ledger'}" />
        </record>
        <record id="action_account_report_ar" model="ir.actions.client">
            <field name="name">Aged Receivable</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.aged.receivable'}" />
        </record>
        <record id="action_account_report_ap" model="ir.actions.client">
            <field name="name">Aged Payable</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.aged.payable'}" />
        </record>
        <record id="action_account_followup_all" model="ir.actions.client">
            <field name="name">Customers Statement</field>
            <field name="tag">account_report_followup</field>
            <field name="context" eval="{'model': 'account.followup.report.all'}" />
        </record>
        <record id="action_account_followup" model="ir.actions.client">
            <field name="name">Customers Statement</field>
            <field name="tag">account_report_followup</field>
            <field name="context" eval="{'model': 'account.followup.report'}" />
        </record>
        <record id="action_account_report_coa" model="ir.actions.client">
            <field name="name">Trial Balance</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.coa.report'}" />
        </record>
        <record id="action_account_report_partner_ledger" model="ir.actions.client">
            <field name="name">Partner Ledger</field>
            <field name="tag">account_report</field>
            <field name="context" eval="{'model': 'account.partner.ledger'}" />
        </record>
        <menuitem id="menu_action_followups" name="Customer Statements" action="action_account_followup_all" parent="account.menu_finance_receivables_follow_up" sequence="1" groups="account.group_account_invoice"/>
        <menuitem id="menu_action_account_report_partner_ledger" name="Partner Ledger" action="action_account_report_partner_ledger" parent="account_reports_partners_reports_menu" groups="account.group_account_user"/>
        <menuitem id="menu_action_account_report_aged_receivable" name="Aged Receivable" action="action_account_report_ar" parent="account_reports_partners_reports_menu"/>
        <menuitem id="menu_action_account_report_aged_payable" name="Aged Payable" action="action_account_report_ap" parent="account_reports_partners_reports_menu"/>
        <menuitem id="menu_action_account_report_general_ledger" name="General Ledger" action="action_account_report_general_ledger" parent="account_reports_audit_reports_menu" groups="account.group_account_user"/>
        <menuitem id="menu_action_account_report_coa" name="Trial Balance" action="action_account_report_coa" parent="account_reports_audit_reports_menu" groups="account.group_account_user"/>
        <menuitem id="menu_action_account_report_cj" name="Consolidated Journals" action="action_account_report_cj" parent="account_reports_audit_reports_menu" groups="account.group_account_user"/>
        <menuitem id="menu_action_account_report_gt" name="Tax Report" action="action_account_report_gt" parent="account_reports_audit_reports_menu"/>

        <record id="account_financial_current_year_earnings_line_1" model="account.financial.html.report.line">
            <field name="action_id" ref='action_account_report_pnl' />
        </record>
        <record id="account_financial_report_executivesummary_cash0" model="account.financial.html.report.line">
            <field name="action_id" ref='action_account_report_cs' />
        </record>
        <record id="account_financial_report_executivesummary_profitability0" model="account.financial.html.report.line">
            <field name="action_id" ref='action_account_report_pnl' />
        </record>
        <record id="account_financial_report_executivesummary_balancesheet0" model="account.financial.html.report.line">
            <field name="action_id" ref='action_account_report_bs' />
        </record>

        <template id="account_reports_backend" inherit_id="web.assets_backend" active="True">
            <xpath expr="." position="inside">
                <script type="text/javascript" src="/account_reports/static/src/js/account_reports.js"></script>
                <script type="text/javascript" src="/account_reports/static/src/js/account_reports_followup.js"></script>
                <link rel="stylesheet" href="/account_reports/static/src/less/account_financial_report.less" />
            </xpath>
        </template>
        <template id="assets_common" name="account_reports_assets_common" inherit_id="web.assets_common">
            <xpath expr="." position="inside">
                <script type="text/javascript" src="/account_reports/static/src/js/account_reports_tours.js"></script>
            </xpath>
        </template>
    </data>
</odoo>
